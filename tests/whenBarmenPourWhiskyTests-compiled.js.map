{"version":3,"sources":["whenBarmenPourWhiskyTests.js"],"names":[],"mappings":";;AAAA;;;;AACA;;AACA;;AACA;;AACA;;;;AACA;;AACA;;;;;;AAGA,MAAM,yBAAN,EAAiC,YAAY;AACzC,UAAM,UAAU,IAAV,EAAgB;AAClB,aAAK,OAAL,CAAa,KAAb;AACA;AACI,YAAI,YAAY,EAAhB;AACA,YAAI,MAAM,kBAAS,SAAT,CAAV;AACA,yBAAQ,GAAR;AACA;AACA;AACP,KARD;;AAUA,UAAM,gBAAN,EAAwB,YAAY;AAChC,aAAK,oCAAL,EAA2C,UAAU,IAAV,EAAgB;;AAEnD,gBAAI,aAAa,EAAjB;AACA,gBAAI,SAAS,2BAAb;;AAEA,gBAAI,gBAAgB,kBAAK,MAAL,EAAa,UAAb,CAApB;AACA,2BAAM,aAAN;;AAEA,6BAAO,KAAP,CAAa,UAAb,EAAyB,aAAzB;AACC;AACR,SAVD;AAWH,KAZD;;AAcA,UAAM,iBAAN,EAAyB,YAAY;AACjC,aAAK,gBAAL,EAAuB,UAAU,IAAV,EAAgB;AACnC,yBAAG,QAAH,CAAY,YAAZ,EAA0B,UAAU,GAAV,EAAe,MAAf,EAAuB;AAC7C,oBAAI,GAAJ,EAAS;AACL,0BAAM,GAAN;AACH;;AAED,oBAAI,aAAa,CAAC,EAAlB;;AAEA,kCAAO;AAAA,2BAAM,kBAAK,MAAL,EAAa,UAAb,CAAN;AAAA,iBAAP,EAAuC,EAAvC,CAA0C,KAA1C,CAAgD,0BAAhD;AACA;AACH,aATD;AAUH,SAXD;AAcH,KAfD;;AAiBA,UAAM,iBAAN,EAAyB,YAAW;AAChC,aAAK,oCAAL,EAA2C,UAAS,IAAT,EAAe;;AAEtD,sCAAW,IAAX,CAAgB,cAAM;AAClB,wBAAQ,GAAR,CAAY,EAAZ;AACA,oBAAI,OAAO,WAAX,EAAwB,CACvB;AACD,oBAAI,aAAa,GAAjB;AACA,oBAAI,SAAS,CAAb;;AAEA,kCAAO;AAAA,2BAAM,kBAAK,MAAL,EAAa,UAAb,CAAN;AAAA,iBAAP,EAAuC,EAAvC,CAA0C,KAA1C,CAAgD,wBAAhD;AACA;AACH,aATD;AAUH,SAZD;AAaH,KAdD;;AAgBA,aAAS,YAAW,CACnB,CADD;AAEH,CA5DD","file":"whenBarmenPourWhiskyTests-compiled.js","sourcesContent":["import assert from 'assert'\r\nimport { pour, free as freeBarmen } from '../src/barmen'\r\nimport { drink, sober, goToBar, getMyCar, getTotallyDrunked, isDrunked, get50GrammWhisky } from '../src/me'\r\nimport { download } from '../src/imageDownloader'\r\nimport fs from 'fs'\r\nimport { expect } from 'chai'\r\nimport username from 'username'\r\n\r\n\r\nsuite('when barmen pour whisky', function () {\r\n    setup(function (done) {\r\n        this.timeout(20000);\r\n        sober();\r\n            let imageData = [];\r\n            var car = getMyCar(imageData);\r\n            goToBar(car);\r\n            freeBarmen();\r\n            done();\r\n    });\r\n\r\n    suite('i ask 50 grams', function () {\r\n        test('I get and drink 50 grams of whisky', function (done) {\r\n\r\n                var iAskVolume = 50;\r\n                var whisky = get50GrammWhisky();\r\n\r\n                var volumeInGlass = pour(whisky, iAskVolume);\r\n                drink(volumeInGlass);\r\n\r\n                assert.equal(iAskVolume, volumeInGlass);\r\n                 done();\r\n        });\r\n    });\r\n\r\n    suite('i ask -10 grams', function () {\r\n        test('I get an error', function (done) {\r\n            fs.readFile('whisky.jpg', function (err, whisky) {\r\n                if (err) {\r\n                    throw err;\r\n                }\r\n\r\n                var iAskVolume = -10;\r\n\r\n                expect(() => pour(whisky, iAskVolume)).to.throw(/Invalid volume of whisky/);\r\n                done();\r\n            });\r\n        });\r\n\r\n\r\n    });\r\n\r\n    suite('i ask 500 grams', function() {\r\n        test('Barmen said there is no such glass', function(done) {\r\n\r\n            username().then(un => {\r\n                console.log(un);\r\n                if (un === \"alex4Zero\") {\r\n                }\r\n                var iAskVolume = 500;\r\n                var whisky = 1;\r\n\r\n                expect(() => pour(whisky, iAskVolume)).to.throw(/There is no such glass/);\r\n                done();\r\n            });\r\n        })\r\n    });\r\n\r\n    teardown(function() {\r\n    })\r\n});"]}